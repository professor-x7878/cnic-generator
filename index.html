<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>CNIC Urdu Layout</title>
  <style>
    @font-face {
      font-family: 'JameelKasheeda';
      src: url('Jame.ttf') format('truetype');
    }

    body {
      font-family: 'JameelKasheeda', serif;
      background: #f2f2f2;
      margin: 0;
      padding: 0;
    }

    .creator-info {
      width: 600px;
      margin: 20px auto;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      color: #FF5722;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      background: linear-gradient(45deg, #FFEB3B, #FF9800);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      border: 2px solid #E91E63;
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from {
        box-shadow: 0 0 5px #FF5722, 0 0 10px #FF5722;
      }
      to {
        box-shadow: 0 0 15px #FF5722, 0 0 20px #FF5722;
      }
    }

    .cnic-container {
      position: relative;
      width: 600px;
      height: 380px;
      margin: 10px auto;
      background-size: cover;
      border: 1px solid #ccc;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .overlay-text {
      position: absolute;
      font-size: 16px;
      color: black;
      font-weight: bold;
      background: transparent;
    }

    #cnic-front {
      background-image: url('https://i.postimg.cc/jj7PpNJ2/IMG-20250526-134405.jpg');
    }
    #on-number { top: 145px; right: 220px; }
    #on-name   { top: 170px; right: 220px; }
    #on-gender { top: 199px; right: 220px; }
    #on-father { top: 227px; right: 220px; cursor: pointer; }
    #on-cnic   { top: 255px; right: 220px; }
    #on-dob    { top: 295px; right: 220px; }

    #photo {
      position: absolute;
      top: 140px;
      left: 70px;
      width: 110px;
      height: 130px;
      border: 1px solid #444;
      object-fit: cover;
    }

    .form-area {
      width: 600px;
      margin: 10px auto;
      background: linear-gradient(135deg, #E3F2FD, #BBDEFB);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .form-area input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      font-family: inherit;
      margin-bottom: 10px;
      border: 2px solid #2196F3;
      border-radius: 5px;
      background-color: rgba(255,255,255,0.8);
      transition: all 0.3s;
    }

    .form-area input:focus {
      border-color: #FF5722;
      box-shadow: 0 0 8px #FF5722;
      outline: none;
    }

    #cnic-back {
      background-image: url('https://i.postimg.cc/W4gqWvQJ/IMG-20250526-134417.jpg');
    }

    #on-b-cnic   { top: 25px; right: 130px; }
    #on-family   { top: 25px; left: 180px; }
    #on-address  { top: 53px; right: 150px; width: 500px; font-size: 16px; }
    #on-issue    { top: 225px; right: 140px; }
    #on-expiry   { top: 220px; right: 320px; }

    #back-photo {
      position: absolute;
      top: 50px;
      left: 80px;
      width: 50px;
      height: 50px;
      object-fit: cover;
      border: 1px solid #444;
    }

    .popup-overlay, .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 9998;
      display: none;
    }

    #subscribePopup, #videoPopup {
      position: fixed;
      top: 50%;
      right: 75px;
      transform: translateY(-50%);
      width: 350px;
      background: linear-gradient(45deg, #FFC107, #FF9800);
      border: 3px solid #FF5722;
      display: none;
      z-index: 9999;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      animation: fadeIn 0.5s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-50%) scale(0.9); }
      to { opacity: 1; transform: translateY(-50%) scale(1); }
    }

    #subscribePopup p, #videoPopup p {
      font-size: 18px;
      font-weight: bold;
      color: #000;
      margin-bottom: 15px;
    }

    #subscribePopup button, #videoPopup button {
      padding: 10px 25px;
      margin-top: 10px;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
      border: none;
      border-radius: 5px;
      transition: all 0.3s;
      background: linear-gradient(45deg, #F44336, #E91E63);
      color: white;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    #subscribePopup button:hover, #videoPopup button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 8px rgba(0,0,0,0.2);
    }

    .close-btn {
      position: absolute;
      top: 10px;
      left: 10px;
      background: transparent;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #333;
      transition: all 0.3s;
    }

    .close-btn:hover {
      color: #F44336;
      transform: rotate(90deg);
    }

    .countdown {
      font-weight: bold;
      color: #F44336;
      font-size: 16px;
      margin-top: 10px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>

<div class="creator-info">
  PRINCE KHAN 03069640373
</div>

<div class="cnic-container" id="cnic-front">
  <img id="photo" src="" alt="Photo" />
    <div id="on-number" class="overlay-text"></div>
  <div id="on-name" class="overlay-text"></div>
  <div id="on-gender" class="overlay-text"></div>
  <div id="on-father" class="overlay-text" onclick="showPopup()"></div>
  <div id="on-cnic" class="overlay-text"></div>
  <div id="on-dob" class="overlay-text"></div>
</div>

<div class="cnic-container" id="cnic-back">
  <img id="back-photo" src="" alt="Back Photo" />
  <div id="on-b-cnic" class="overlay-text"></div>
  <div id="on-family" class="overlay-text"></div>
  <div id="on-address" class="overlay-text"></div>
  <div id="on-issue" class="overlay-text"></div>
  <div id="on-expiry" class="overlay-text"></div>
</div>

<div class="form-area">
  <input type="text" placeholder="Number" oninput="setText('on-number', this.value)">
  <input type="text" placeholder="نام" oninput="setText('on-name', this.value)">
  <input type="text" placeholder="جنس" oninput="setText('on-gender', this.value)">
  <input type="text" placeholder="ولدیت" onclick="showPopup()">
  <input type="text" placeholder="شناختی علامت" oninput="setText('on-cnic', this.value)">
  <input type="text" placeholder="تاریخ پیدائش" oninput="setText('on-dob', this.value)">
  <input type="file" accept="image/*" onclick="checkBeforeUpload(event)" onchange="uploadPhoto(event)">
  <hr>
  <input type="text" placeholder="شناختی کارڈ نمبر (پیچھے)" oninput="setText('on-b-cnic', this.value)">
  <input type="text" placeholder="فیملی نمبر" oninput="setText('on-family', this.value)">
  <input type="text" placeholder="پتہ" oninput="setText('on-address', this.value)">
  <input type="text" placeholder="تاریخ اجراء" oninput="setText('on-issue', this.value)">
  <input type="text" placeholder="میعاد ختم ہونے کی تاریخ" oninput="setText('on-expiry', this.value)">
  <input type="file" accept="image/*" onchange="uploadBackPhoto(event)">
</div>

<div class="popup-overlay" id="popupOverlay"></div>
<div id="subscribePopup">
  <button class="close-btn" onclick="closePopup('subscribePopup')">×</button>
  <p>یوٹیوب کو سبسکرائب کریں، تب والد کا نام شامل ہوگا</p>
  <button class="subscribe-btn" onclick="handleSubscribe()">سبسکرائب کریں</button>
</div>

<div class="video-overlay" id="videoOverlay"></div>
<div id="videoPopup">
  <button class="close-btn" onclick="closePopup('videoPopup')">×</button>
  <p>پہلے 20 سیکنڈ ویڈیو دیکھیں</p>
  <div class="countdown" id="videoCountdown"></div>
  <button class="subscribe-btn" onclick="watchVideo()">ویڈیو دیکھیں</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  let videoWatched = false;
  let subscribed = false;
  let countdownInterval;
  let secondsLeft = 20;

  function setText(id, value) {
    document.getElementById(id).textContent = value;
  }

  function uploadPhoto(event) {
    if (!videoWatched) {
      event.preventDefault();
      showVideoPopup();
      return;
    }
    const reader = new FileReader();
    reader.onload = e => {
      document.getElementById('photo').src = e.target.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  }

  function checkBeforeUpload(event) {
    if (!videoWatched) {
      event.preventDefault();
      showVideoPopup();
    }
  }

  function showVideoPopup() {
    document.getElementById("videoOverlay").style.display = "block";
    document.getElementById("videoPopup").style.display = "block";
    startCountdown();
  }

  function startCountdown() {
    secondsLeft = 20;
    document.getElementById("videoCountdown").textContent = `زمانہ باقی: ${secondsLeft} سیکنڈ`;
    clearInterval(countdownInterval);
    countdownInterval = setInterval(() => {
      secondsLeft--;
      document.getElementById("videoCountdown").textContent = `زمانہ باقی: ${secondsLeft} سیکنڈ`;
      if (secondsLeft <= 0) {
        clearInterval(countdownInterval);
      }
    }, 1000);
  }

  function watchVideo() {
    document.getElementById("videoOverlay").style.display = "none";
    document.getElementById("videoPopup").style.display = "none";
    clearInterval(countdownInterval);
    window.open("https://youtu.be/X3RzxRMMpzM", "_blank");

    setTimeout(() => {
      videoWatched = true;
      alert("شکریہ! اب آپ تصویر اپلوڈ کر سکتے ہیں۔");
    }, 20000); // 20 seconds
  }

  function uploadBackPhoto(event) {
    const reader = new FileReader();
    reader.onload = e => {
      document.getElementById('back-photo').src = e.target.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  }

  function showPopup() {
    if (!subscribed) {
      document.getElementById('popupOverlay').style.display = 'block';
      document.getElementById('subscribePopup').style.display = 'block';
    }
  }

  function closePopup(popupId) {
    document.getElementById('popupOverlay').style.display = 'none';
    document.getElementById(popupId).style.display = 'none';
    if (popupId === 'videoPopup') {
      clearInterval(countdownInterval);
    }
  }

  function handleSubscribe() {
    // Open YouTube channel in new tab
    window.open('https://youtube.com/@professorx42?si=AOxvuSa7BXtsEqAh', '_blank');
    
    // Hide the popup with animation
    document.getElementById('subscribePopup').style.animation = 'fadeIn 0.5s reverse';
    setTimeout(() => {
      document.getElementById('popupOverlay').style.display = 'none';
      document.getElementById('subscribePopup').style.display = 'none';
      document.getElementById('subscribePopup').style.animation = 'fadeIn 0.5s';
    }, 500);
    
    // Set subscribed to true
    subscribed = true;
    
    // Allow father's name to be edited
    const fatherInput = document.querySelector('input[placeholder="ولدیت"]');
    fatherInput.onclick = null; // Remove the popup trigger
    fatherInput.oninput = function() {
      setText('on-father', this.value);
    };
    
    // Focus on the input field
    fatherInput.focus();
  }

  document.getElementById('popupOverlay').addEventListener('click', () => {
    closePopup('subscribePopup');
    closePopup('videoPopup');
  });
</script>

</body>
</html>